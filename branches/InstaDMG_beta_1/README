INTRO
InstaDMG creates ASR ready deployment images from Mac OS X Installer packages. It operates on the idea that everything is packaged. This may require the re-packaging of installers and updates that don't want to be installed on a non-boot volume. You can use PackageMaker to create new packages. JAMF's Composer tool is the easiest way to generate a package from an install.

Please submit any test results and code changes back to http://www.afp548.com

USING
The InstaDMG folder contains several folders and is self-contained. This allows you to put it on an external drive to move from Mac to Mac. To use simply do the following.

1. Image a Mac OS X installer disk or the retail disks that came with your Mac. Place the dmg files in the BaseOS folder.
2. Place any Apple updates in the AppleUpdates folder. Currently you can prefix a number to order them but this has issues and will not work in the next revison. (See KNOWN ISSUES)
3. Place any custom installers in the CustomPKG folder.
4. Edit variables and uncomment handler calls as needed in the instadmg.bash file.
5. Run with sudo.

The result will be an ASR prepared deployment image.

KNOWN ISSUES
Needs testing on more hardware, specifically PPC.

Needs 10.5 testing.

On 10.4 installs all packages in the OSInstall.mpkg will be installed. This is a limitation of the 10.4 installer. Testing needs to be done on 10.5 to selectively install the mpkg contents.

Prefixing numbers to the packages messes up the receipt names. Numbered folders that contain the packages is probably the easiest solution.